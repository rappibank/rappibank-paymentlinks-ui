import moment from 'moment';
import { FormatCurrency } from '../utils/format-currency';

interface TicketProps {
  order: number;
  value: number;
  date: Date;
}

export function Ticket({ order, value, date }: TicketProps) {
  const Corner = () => (
    <svg
      width='12'
      height='40'
      viewBox='0 0 12 40'
      fill='none'
      xmlns='http://www.w3.org/2000/svg'
    >
      <g clipPath='url(#clip0_401_18)'>
        <rect width='12' height='40' fill='white' />
        <mask
          id='mask0_401_18'
          maskUnits='userSpaceOnUse'
          x='0'
          y='0'
          width='12'
          height='40'
        >
          <path d='M12 0H0V40H12V0Z' fill='white' />
        </mask>
        <g mask='url(#mask0_401_18)'>
          <path
            d='M-89.1331 107.544C-119.671 107.544 -150.209 107.522 -180.75 107.566C-185.731 107.575 -190.21 102.551 -190.198 97.2606C-190.15 78.1256 -190.19 58.9906 -190.17 39.8556C-190.17 37.1358 -189.259 34.7707 -187.517 32.7779C-185.494 30.4654 -183.195 28.4376 -181.469 25.8098C-179.33 22.5557 -179.205 17.9088 -181.108 14.5189C-181.802 13.2794 -182.769 12.3509 -183.656 11.3217C-185.185 9.5479 -186.927 7.98872 -188.296 6.04413C-189.532 4.28348 -190.174 2.29508 -190.178 0.078943C-190.186 -5.24242 -190.13 -10.5638 -190.194 -15.8851C-190.262 -21.5788 -185.739 -26.3264 -180.61 -26.322C-119.599 -26.2957 -58.5873 -26.3045 2.42009 -26.3045C7.63347 -26.3045 11.9037 -21.6708 11.9037 -16.0078C11.9037 -10.9404 11.8315 -5.8731 11.9278 -0.810142C11.992 2.62794 10.8442 5.4003 8.64885 7.75659C7.17193 9.34205 5.71508 10.9494 4.25421 12.548C0.770597 16.354 0.529798 22.3104 3.66826 26.5062C5.40605 28.8274 7.50905 30.7545 9.37527 32.94C10.9806 34.8233 11.8957 37.0569 11.8957 39.6322C11.9157 58.8767 11.9077 78.1212 11.9077 97.3657C11.9077 102.775 7.53715 107.54 2.58062 107.54C-27.9933 107.54 -58.5632 107.54 -89.1371 107.54L-89.1331 107.544Z'
            fill='#F2F2F1'
          />
        </g>
      </g>
      <defs>
        <clipPath id='clip0_401_18'>
          <rect width='12' height='40' fill='white' />
        </clipPath>
      </defs>
    </svg>
  );
  return (
    <div className='relative flex w-[252px] flex-col items-center justify-center rounded-2xl bg-ticket p-6 md:w-full'>
      <div className='absolute right-0 top-[30px]'>
        <Corner />
      </div>
      <div className='absolute left-0 top-[30px] scale-x-[-1]'>
        <Corner />
      </div>

      <div className='flex items-center gap-1'>
        <svg
          width='16'
          height='16'
          viewBox='0 0 16 16'
          fill='none'
          xmlns='http://www.w3.org/2000/svg'
        >
          <path
            fillRule='evenodd'
            clipRule='evenodd'
            d='M3.16667 1.33334C2.91415 1.14396 2.57631 1.11349 2.29399 1.25465C2.01167 1.39581 1.83333 1.68437 1.83333 2.00001V10.6667C1.83333 12.5997 3.40034 14.1667 5.33333 14.1667H10.6667C12.5997 14.1667 14.1667 12.5997 14.1667 10.6667V2.00001C14.1667 1.68437 13.9883 1.39581 13.706 1.25465C13.4237 1.11349 13.0858 1.14396 12.8333 1.33334L11.5556 2.29168L10.2778 1.33334C9.98148 1.11112 9.57407 1.11112 9.27778 1.33334L8 2.29168L6.72222 1.33334C6.42593 1.11112 6.01852 1.11112 5.72222 1.33334L4.44444 2.29168L3.16667 1.33334ZM3.5 10.6667V3.66668L3.94444 4.00001C4.24074 4.22223 4.64815 4.22223 4.94444 4.00001L6.22222 3.04168L7.5 4.00001C7.79629 4.22223 8.2037 4.22223 8.5 4.00001L9.77778 3.04168L11.0556 4.00001C11.3519 4.22223 11.7593 4.22223 12.0556 4.00001L12.5 3.66668V10.6667C12.5 11.6792 11.6792 12.5 10.6667 12.5H5.33333C4.32081 12.5 3.5 11.6792 3.5 10.6667ZM10.2111 7.3503C10.5847 7.61276 10.8957 7.5944 11.2464 7.30128C11.2753 7.2771 11.3042 7.25291 11.3333 7.22904C11.2811 7.50487 11.1684 7.75226 11.0023 7.97674C10.7901 8.26318 10.512 8.46846 10.1628 8.58112C9.34662 8.84453 8.31582 8.47747 8 7.78451C7.68418 8.47747 6.65326 8.84453 5.83715 8.58112C5.488 8.46846 5.20985 8.26328 4.99771 7.97674C4.83146 7.75226 4.71889 7.50487 4.66667 7.22904L4.75334 7.30128C5.10406 7.5944 5.4151 7.61276 5.7887 7.3503C5.87348 7.29078 5.95387 7.22565 6.03426 7.16052C6.11678 7.09367 6.1993 7.02683 6.28655 6.96605C6.41979 6.87333 6.5607 6.78114 6.71272 6.72385C6.97586 6.62445 7.24312 6.65819 7.48315 6.79758C7.61697 6.87515 7.74107 6.96848 7.86484 7.06154C7.89206 7.08201 7.91926 7.10247 7.94655 7.12274C7.96788 7.13834 7.98377 7.14693 7.99989 7.14629C8.016 7.14693 8.032 7.13834 8.05323 7.12274C8.0808 7.10227 8.10828 7.08162 8.13577 7.06096C8.2593 6.96811 8.38309 6.87508 8.51662 6.79758C8.75699 6.65819 9.02391 6.62445 9.28706 6.72385C9.43908 6.78114 9.57999 6.87322 9.71323 6.96605C9.80048 7.02683 9.88299 7.09367 9.96551 7.16052C10.0459 7.22565 10.1263 7.29078 10.2111 7.3503Z'
            fill='black'
          />
        </svg>
        <p className='text-xs font-bold text-black'>{`Pedido #${order}`}</p>
      </div>
      <div className='my-2'>
        <svg
          width='140'
          height='2'
          viewBox='0 0 140 2'
          fill='none'
          xmlns='http://www.w3.org/2000/svg'
        >
          <line
            x1='1'
            y1='1'
            x2='139'
            y2='1'
            stroke='#171A1E'
            strokeOpacity='0.2'
            strokeWidth='2'
            strokeLinecap='round'
            strokeDasharray='1 8'
          />
        </svg>
      </div>

      <div className='mb-1 text-4xl font-bold md:text-[2.75rem]'>
        {FormatCurrency(value)}
      </div>

      <p className='text-xs text-weak'>
        {moment(date).format('DD MMM YYYY - HH:mm:ss')}
      </p>
    </div>
  );
}
